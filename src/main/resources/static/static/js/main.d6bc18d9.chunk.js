(this["webpackJsonpparkingmanagement-reactjs"]=this["webpackJsonpparkingmanagement-reactjs"]||[]).push([[0],{340:function(e,t,n){},341:function(e,t,n){},372:function(e,t,n){},606:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s,o,l,u,j,b,d,h,x,O,p,f,m,g,v,k,C=n(1),w=n.n(C),N=n(112),y=n.n(N),S=(n(340),n(341),n(5)),I=n(111),P=n(31),L=n(100),A=n(9),R=n.n(A),E=n(14),T=n(19),F=n(20),D=F.a.div(r||(r=Object(T.a)(["\n    margin:2% 20% 0 20%;\n    border-radius:1em;\n    box-shadow: 3px 3px 3px 3px #888888;\n    padding:1%;\n    background-color:white;\n"]))),U=(F.a.div(a||(a=Object(T.a)(["\n    text-align:center;\n    color:#FB1D07;\n    font-weight:bold;\n    font-size:50px;\n    margin-top:3%;\n    line-height:50px;\n    word-wrap:break-word;\n    word-break:break-word;\n"]))),n(630)),V=n(625),B=n(627),z=n(629),H=n(628),q=n(624),Y=n(617),$=n(633),_=n(144),M=F.a.div(c||(c=Object(T.a)(["\n    display: grid;\n    grid-template-columns: 2.5fr 2fr;\n    background: linear-gradient(to bottom, rgb(6, 108, 224),  rgb(14, 48, 122));\n    width: 1100px;\n    height: 530px;\n    margin: 4% auto;;\n    border-radius: 15px;\n    -webkit-backface-visibility : hidden; /* the magic ingredient */\n    -webkit-transform           : skew(26deg, 0);\n"]))),Z=(F.a.div(i||(i=Object(T.a)(["\n    text-align: center;\n    margin: 3% 5% 3% 8%;\n    background: #fff;\n    border-radius: 10px;\n    overflow: hidden;\n    padding: 0px 50px 30px 30px;\n"]))),F.a.div(s||(s=Object(T.a)(["\n    width: 1200px;\n    background: #fff;\n    border-radius: 10px;\n    overflow: hidden;\n\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    padding: 200px 50px 60px 30px;\n    margin: 5px;\n"]))),F.a.div(o||(o=Object(T.a)(["\n    text-align:center;\n    font-weight:bold;\n    font-size:60px;\n    margin-top:2%;\n    line-height:10px;\n    word-wrap:break-word;\n    word-break:break-word;\n    color: #e0dfdc;\n    letter-spacing: .1em;\n    text-shadow: \n      0 -1px 0 #fff, \n      0 1px 0 #2e2e2e, \n      0 2px 0 #2c2c2c, \n      0 3px 0 #2a2a2a, \n      0 4px 0 #282828, \n      0 22px 30px rgba(0, 0, 0, 0.9);\n"])))),G=F.a.img(l||(l=Object(T.a)(['\n    -webkit-transform           : skew(-26deg, 0);\n    width: 96px;\n    height: 96px;\n    margin: 0 auto 10px;\n    display: block;\n    -moz-border-radius: 50%;\n    -webkit-border-radius: 50%;\n    borderWidth: 3;\n    borderColor: "blue";\n    border-radius: 50%;\n']))),K=(F.a.img(u||(u=Object(T.a)(["\n    text-align: center;\n    color: white;\n    font-size: 15px;\n    font-weight: lighter;\n    letter-spacing: 1px;\n    margin-top: 15%;\n    padding: 50px;\n    -webkit-transform: skew(-26deg, 0);\n"]))),F.a.img(j||(j=Object(T.a)(["\n    font-size: 38px;\n    margin: 20px auto;\n"]))),F.a.img(b||(b=Object(T.a)(["\n    border-radius: 50%;\n    height:75px;\n    width:75px;\n"])))),W=n(0),X=function(){return Object(W.jsx)(K,{src:"logo256.png"})},J=n(320),Q={headers:{authorization:"Basic dXNlcjo3Y01fekM0Xg=="}},ee=n.n(J).a.create({baseURL:"http://localhost:8080/api"}),te=function(){return ee.get("/parking_owner",Q)},ne=function(){return ee.get("/parking",Q)},re=function(){return ee.get("/blacklist",Q)},ae=function(){return ee.get("/employees",Q)},ce=function(){return ee.get("/entrance_exit_log",Q)},ie=function(e){return ee.delete("/entrance_exit_log/".concat(e),Q)},se=function(){return ee.get("/park_area",Q)},oe=function(e,t){return ee.put("/park_area/".concat(e),t,Q)},le=function(){return ee.get("/report_list",Q)},ue=function(e){return ee.delete("/report_list/".concat(e),Q)},je=function(){return ee.get("/users",Q)},be=function(){return ee.get("/vehicles",Q)},de=function(e){return ee.post("/vehicles",e,Q)},he=function(e){return ee.delete("/vehicles/".concat(e),Q)},xe=function(){var e=Object(P.k)(),t=Object(C.useState)(!1),n=Object(S.a)(t,2),r=n[0],a=n[1],c=Object(C.useState)([]),i=Object(S.a)(c,2),s=i[0],o=i[1],l=Object(C.useState)([]),u=Object(S.a)(l,2),j=u[0],b=u[1],d=Object(C.useState)([]),h=Object(S.a)(d,2),x=h[0],O=h[1],p=Object(C.useState)(""),f=Object(S.a)(p,2),m=f[0],g=f[1],v=Object(C.useState)(""),k=Object(S.a)(v,2),w=k[0],N=k[1],y=Object(C.useState)(""),I=Object(S.a)(y,2),A=I[0],T=I[1],F=Object(C.useState)(""),M=Object(S.a)(F,2),G=M[0],K=M[1],J=Object(C.useState)(""),re=Object(S.a)(J,2),ce=re[0],ie=re[1],se=Object(C.useState)(""),oe=Object(S.a)(se,2),le=oe[0],ue=oe[1],be=Object(C.useState)(""),de=Object(S.a)(be,2),he=de[0],xe=de[1],Oe=Object(C.useState)(!1),pe=Object(S.a)(Oe,2),fe=pe[0],me=pe[1],ge=Object(C.useState)(!1),ve=Object(S.a)(ge,2),ke=ve[0],Ce=ve[1],we=Object(C.useState)(!1),Ne=Object(S.a)(we,2),ye=Ne[0],Se=Ne[1],Ie=Object(C.useState)(!1),Pe=Object(S.a)(Ie,2),Le=Pe[0],Ae=Pe[1],Re=Object(C.useState)(!1),Ee=Object(S.a)(Re,2),Te=Ee[0],Fe=Ee[1],De=Object(C.useState)(!1),Ue=Object(S.a)(De,2),Ve=Ue[0],Be=Ue[1],ze=Object(C.useState)(!1),He=Object(S.a)(ze,2),qe=He[0],Ye=He[1],$e=Object(C.useState)(!1),_e=Object(S.a)($e,2),Me=_e[0],Ze=_e[1],Ge=Object(C.useState)(!1),Ke=Object(S.a)(Ge,2),We=Ke[0],Xe=Ke[1],Je=Object(C.useState)(!1),Qe=Object(S.a)(Je,2),et=Qe[0],tt=Qe[1],nt=Object(C.useState)(!1),rt=Object(S.a)(nt,2),at=rt[0],ct=rt[1],it=Object(C.useState)(""),st=Object(S.a)(it,2),ot=st[0],lt=st[1],ut=Object(C.useState)([]),jt=Object(S.a)(ut,2),bt=jt[0],dt=jt[1],ht=Object(C.useState)([]),xt=Object(S.a)(ht,2),Ot=xt[0],pt=xt[1];Object(C.useEffect)((function(){Ze(!0),function(){var e=Object(E.a)(R.a.mark((function e(){var t,n,r,a,c,i,s,l;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne();case 3:t=e.sent,n=t.data,dt(n),n=n.map((function(e,t){return{key:t,text:e.name,value:e.name}})),pt(n),Ze(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),lt(e.t0);case 14:return e.prev=14,e.next=17,je();case 17:r=e.sent,a=r.data,o(a),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(14),lt(e.t1);case 25:return e.prev=25,e.next=28,ae();case 28:c=e.sent,i=c.data,b(i),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(25),lt(e.t2);case 36:return e.prev=36,e.next=39,te();case 39:s=e.sent,l=s.data,O(l),e.next=47;break;case 44:e.prev=44,e.t3=e.catch(36),lt(e.t3);case 47:Ze(!1);case 48:case"end":return e.stop()}}),e,null,[[0,11],[14,22],[25,33],[36,44]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var ft=function(){var t=Object(E.a)(R.a.mark((function t(){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={parkingId:bt.find((function(e){return e.name===he})).id,fullName:"".concat(m," ").concat(w),userName:G,password:ce,phone:A},!fe){t.next=14;break}return n=Object(L.a)({accepted:!1},n),t.prev=3,Xe(!0),t.next=7,c=n,ee.post("/employees",c,Q);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),lt(t.t0);case 12:t.next=23;break;case 14:return t.prev=14,t.next=17,r=n,ee.post("/users",r,Q);case 17:Xe(!1),t.next=23;break;case 20:t.prev=20,t.t1=t.catch(14),lt(t.t1);case 23:tt(!1),ct(!0),g(""),N(""),T(""),K(""),ie(""),xe(""),a(!0),me(!1),ue(""),setTimeout((function(){e.push("/login"),a(!1)}),3e3);case 35:case"end":return t.stop()}var r,c}),t,null,[[3,9],[14,20]])})));return function(){return t.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(X,{}),Object(W.jsxs)(U.a,{stackable:!0,children:[Object(W.jsx)(U.a.Column,{width:"16",children:Object(W.jsx)(Z,{children:"Create your account"})}),Object(W.jsx)(U.a.Column,{width:"16",children:Object(W.jsxs)(D,{children:[Object(W.jsxs)(V.a,{dimmer:"blurring",open:at,onClose:function(){return ct(!1)},children:[Object(W.jsx)(V.a.Content,{children:Object(W.jsx)(B.a,{negative:!r,positive:r,header:r?"Your account created successfully. You'll be redirect to login page in 3 seconds.":"Username"===le?"This Username is already in use":"Phone"===le?"This Phone is already in use":null})}),Object(W.jsx)(V.a.Actions,{children:"Username"===le||"Phone"===le?Object(W.jsx)(z.a,{negative:!0,onClick:function(){return ct(!1)},children:"OK!"}):null})]}),Me?Object(W.jsxs)(H.a,{children:[Object(W.jsx)(H.a.Line,{}),Object(W.jsx)(H.a.Line,{}),Object(W.jsx)(H.a.Line,{}),Object(W.jsx)(H.a.Line,{}),Object(W.jsx)(H.a.Line,{}),Object(W.jsx)(H.a.Line,{})]}):0!==bt.length||ot?ot?Object(W.jsx)(B.a,{negative:!0,children:ot.toString()}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(q.a,{size:"big",children:[Object(W.jsxs)(q.a.Group,{widths:"equal",children:[Object(W.jsx)(q.a.Input,{onChange:function(e,t){var n=t.value;(/^[a-zA-Z]+$/.test(n)||""===n)&&n.length<25&&(g(n),ke&&Ce(!1))},value:m,required:!0,fluid:!0,label:"First name",placeholder:"First name (between 2-24 letter)",error:ke}),Object(W.jsx)(q.a.Input,{onChange:function(e,t){var n=t.value;(/^[a-zA-Z]+$/.test(n)||""===n)&&n.length<25&&(N(n),ye&&Se(!1))},value:w,required:!0,fluid:!0,label:"Last name",placeholder:"Last name (between 2-24 letter)",error:ye})]}),Object(W.jsx)(q.a.Input,{onChange:function(e,t){var n=t.value;(/^[0-9]+$/.test(n)||""===n)&&n.length<11&&"0"!==n&&(T(n),Le&&Ae(!1))},value:A,required:!0,label:"Phone",placeholder:"Phone (Length should be 10)",error:Le}),Object(W.jsx)(q.a.Input,{onChange:function(e,t){var n=t.value;(/^[a-zA-Z0-9]+$/.test(n)||""===n)&&n.length<25&&(K(n),Te&&Fe(!1))},value:G,required:!0,label:"Username",placeholder:"Username (between 5-24 letter)",error:Te}),Object(W.jsx)(q.a.Input,{onChange:function(e,t){var n=t.value;(/^[a-zA-Z0-9]+$/.test(n)||""===n)&&n.length<25&&(ie(n),Ve&&Be(!1))},value:ce,required:!0,label:"Password",placeholder:"Password (between 5-24 letter)",type:"password",error:Ve}),Object(W.jsx)(q.a.Field,{fluid:!0,loading:Me,value:he,onChange:function(e,t){var n=t.value;xe(n),Ye(!1)},required:!0,control:Y.a,options:Ot,label:"Choose Parking",placeholder:"Choose Parking",search:!0,error:qe}),Object(W.jsx)(q.a.Field,{children:Object(W.jsx)($.a,{slider:!0,label:"Do you want to work in this parking?",onChange:function(){me(!fe)},checked:fe})}),Object(W.jsxs)(z.a,{loading:We,animated:!0,fluid:!0,primary:!0,disabled:!!(ke||ye||Le||Te||Ve||qe),onClick:function(){m.length<3?Ce(!0):w.length<3?Se(!0):A.length<10?Ae(!0):G.length<5?Fe(!0):ce.length<5?Be(!0):""===he?Ye(!0):s.some((function(e){return e.userName.toLowerCase()===G.toLowerCase()}))||j.some((function(e){return e.userName.toLowerCase()===G.toLowerCase()}))||x.some((function(e){return e.userName.toLowerCase()===G.toLowerCase()}))?(ue("Username"),ct(!0)):s.some((function(e){return e.phone===A}))||j.some((function(e){return e.phone===A}))||x.some((function(e){return e.phone===A}))?(ue("Phone"),ct(!0)):tt(!0)},children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Sign in"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"signup"})})]})]}),Object(W.jsxs)(V.a,{dimmer:"blurring",open:et,onClose:function(){return tt(!1)},children:[Object(W.jsx)(V.a.Header,{children:"Are you sure the information is correct?"}),Object(W.jsx)(V.a.Content,{children:Object(W.jsxs)("h3",{children:["First name: ",Object(W.jsx)("i",{style:{color:"red"},children:m}),Object(W.jsx)("br",{}),"Last name: ",Object(W.jsx)("i",{style:{color:"red"},children:w}),Object(W.jsx)("br",{}),"Phone: ",Object(W.jsx)("i",{style:{color:"red"},children:A}),Object(W.jsx)("br",{}),"Username: ",Object(W.jsx)("i",{style:{color:"red"},children:G}),Object(W.jsx)("br",{}),"Selected Parking: ",Object(W.jsx)("i",{style:{color:"red"},children:he}),Object(W.jsx)("br",{}),"User Type: ",Object(W.jsx)("i",{style:{color:"red"},children:fe?"Employee":"User"})]})}),Object(W.jsxs)(V.a.Actions,{children:[Object(W.jsx)(z.a,{negative:!0,onClick:function(){return tt(!1)},children:"Nope, something wrong!"}),Object(W.jsx)(z.a,{positive:!0,onClick:ft,children:"All fine."})]})]})]}):Object(W.jsx)(B.a,{negative:!0,header:"There is no parking. You can't register."}),ot?null:Object(W.jsxs)(B.a,{warning:!0,children:[Object(W.jsx)(_.a,{name:"user"}),"Already have an account?\xa0",Object(W.jsx)("a",{href:"/login",children:"Login here"}),"\xa0instead."]})]})})]})]})},Oe=(n(371),n(372),w.a.createContext({user:{},setUser:function(){},authenticated:"",setAuthenticated:function(){}})),pe=F.a.div(d||(d=Object(T.a)(['\n    display:inline-block;\n    background-image: url("https://d32pcgkv1ookv1.cloudfront.net/prod-wpms/wp-content/uploads/sites/37/2018/05/20200325/parking-lot.jpg");\n    background-attachment: fixed;\n    background-repeat:no-repeat;\n    background-size:cover;\n    width:100%;\n    min-height:100vh;\n']))),fe=function(){var e=Object(C.useContext)(Oe),t=e.setAuthenticated,n=e.setUser,r=Object(P.k)(),a=Object(C.useState)(""),c=Object(S.a)(a,2),i=c[0],s=c[1],o=Object(C.useState)(!1),l=Object(S.a)(o,2),u=l[0],j=l[1],b=Object(C.useState)(""),d=Object(S.a)(b,2),h=d[0],x=d[1],O=Object(C.useState)(!1),p=Object(S.a)(O,2),f=p[0],m=p[1],g=Object(C.useState)(""),v=Object(S.a)(g,2),k=v[0],w=v[1],N=Object(C.useState)([]),y=Object(S.a)(N,2),L=y[0],A=y[1],T=Object(C.useState)([]),F=Object(S.a)(T,2),D=F[0],Y=F[1],$=Object(C.useState)([]),K=Object(S.a)($,2),J=K[0],Q=K[1],ee=Object(C.useState)(!1),ne=Object(S.a)(ee,2),re=ne[0],ce=ne[1],ie=Object(C.useState)(!1),se=Object(S.a)(ie,2),oe=se[0],le=se[1];Object(C.useEffect)((function(){(function(){var e=Object(E.a)(R.a.mark((function e(){var t,n,r,a,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,je();case 4:t=e.sent,n=t.data,A(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),w(e.t0);case 12:return e.prev=12,e.next=15,ae();case 15:r=e.sent,a=r.data,Y(a),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(12),w(e.t1);case 23:return e.prev=23,e.next=26,te();case 26:c=e.sent,i=c.data,Q(i),e.next=34;break;case 31:e.prev=31,e.t2=e.catch(23),w(e.t2);case 34:m(!1);case 35:case"end":return e.stop()}}),e,null,[[1,9],[12,20],[23,31]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(pe,{children:[Object(W.jsx)(X,{}),Object(W.jsx)(U.a,{stackable:!0,children:Object(W.jsx)(U.a.Column,{width:"16",children:Object(W.jsx)(Z,{children:"\u041f\u0430\u0440\u043a\u0438\u043d\u0433 \u0441\u0438\u0441\u0442\u0435\u043c\u0430"})})}),Object(W.jsxs)(M,{children:[Object(W.jsx)("div",{class:"box-1",children:Object(W.jsxs)("div",{class:"content-holder",children:[Object(W.jsx)("h2",{children:"\u0414\u043e\u0431\u0440\u0435 \u0434\u043e\u0448\u043b\u0438 \u043d\u0430 \u043d\u0430\u0448\u0438\u044f \u0443\u0435\u0431 \u0441\u0430\u0439\u0442!"}),Object(W.jsx)("img",{src:"https://www.pngarts.com/files/6/Parking-Logo-PNG-Image.png",alt:"Girl in a jacket",width:"150",height:"150"})]})}),Object(W.jsx)("div",{class:"box-2",children:Object(W.jsxs)("div",{class:"login-form-container",children:[Object(W.jsx)(G,{img:!0,src:"https://www.iconpacks.net/icons/1/free-user-login-icon-305-thumb.png",alt:"profile-img"}),f||k?k?Object(W.jsx)(B.a,{negative:!0,children:k.toString()}):Object(W.jsxs)(H.a,{children:[Object(W.jsx)(H.a.Line,{}),Object(W.jsx)(H.a.Line,{}),Object(W.jsx)(H.a.Line,{}),Object(W.jsx)(H.a.Line,{}),Object(W.jsx)(H.a.Line,{})]}):Object(W.jsxs)(q.a,{size:"big",children:[Object(W.jsx)(q.a.Input,{className:"input-field",value:i,icon:"user",iconPosition:"left",label:"Username",placeholder:"Username (max 24)",onChange:function(e,t){var n=t.value;(/^[a-zA-Z0-9]+$/.test(n)||""===n)&&n.length<25&&(s(n),re&&ce(!1),u&&j(!1))}}),Object(W.jsx)(q.a.Input,{className:"input-field",value:h,icon:"lock",iconPosition:"left",label:"Password",type:"password",placeholder:"Password (max 24)",onChange:function(e,t){var n=t.value;(/^[a-zA-Z0-9]+$/.test(n)||""===n)&&n.length<25&&(x(n),u&&j(!1),re&&ce(!1))}}),Object(W.jsxs)(z.a,{primary:!0,animated:!0,size:"big",onClick:function(e){e.preventDefault(),L.some((function(e){return e.userName===i&&e.password===window.btoa(h)}))?(n(L.find((function(e){return e.userName===i&&e.password===window.btoa(h)}))),t("User"),r.push("/user")):D.some((function(e){return e.userName===i&&e.password===window.btoa(h)&&e.accepted}))?(n(D.find((function(e){return e.userName===i&&e.password===window.btoa(h)&&e.accepted}))),t("Employee"),r.push("/employee")):J.some((function(e){return e.userName===i&&e.password===window.btoa(h)}))?(n(J.find((function(e){return e.userName===i&&e.password===window.btoa(h)}))),t("ParkingOwner"),r.push("/parkingowner")):D.some((function(e){return e.userName===i&&e.password===window.btoa(h)&&!e.accepted}))?(ce(!0),le(!0)):(j(!0),le(!0))},children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"\u0412\u0445\u043e\u0434"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"sign-in"})})]})]}),Object(W.jsxs)(U.a.Column,{verticalAlign:"middle",children:[Object(W.jsx)("br",{}),Object(W.jsx)("h3",{children:"\u041d\u0435\u0441\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b?"}),Object(W.jsx)(z.a,{content:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",icon:"signup",size:"big",as:I.Link,to:"/register"})]})]})}),Object(W.jsxs)(V.a,{dimmer:"blurring",open:oe,onClose:function(){return le(!1)},children:[Object(W.jsx)(V.a.Header,{children:u?Object(W.jsx)(B.a,{negative:!0,header:"Wrong username or password"}):re?Object(W.jsx)(B.a,{negative:!0,header:"Your job request is waiting to accept by parking owner. "}):null}),Object(W.jsx)(V.a.Actions,{children:Object(W.jsx)(z.a,{negative:!0,onClick:function(){return le(!1)},children:"OK!"})})]})]})]})})},me=n(326),ge=n(621),ve=n(622),ke=n(183),Ce=n(626),we=n(619),Ne=function(e){var t=e.licensePlate,n=e.handleLicensePlateChange,r=e.licensePlateError;return Object(W.jsx)(q.a.Input,{"data-testid":"licensePlateInput",value:t,onChange:n,required:!0,icon:"car",iconPosition:"left",label:"License Plate",placeholder:"\u043f\u0440\u0438\u043c\u0435\u0440: CA 1234 XC",error:r?"Wrong format":null})},ye=function(e){var t=e.vehicles,n=e.parkings,r=e.updateVehicles,a=e.blacklist,c=Object(C.useState)(!1),i=Object(S.a)(c,2),s=i[0],o=i[1],l=Object(C.useState)(!1),u=Object(S.a)(l,2),j=u[0],b=u[1],d=Object(C.useState)(!1),h=Object(S.a)(d,2),x=h[0],O=h[1],p=Object(C.useState)(""),f=Object(S.a)(p,2),m=f[0],g=f[1],v=Object(C.useState)(""),k=Object(S.a)(v,2),w=k[0],N=k[1],y=Object(C.useState)(!1),I=Object(S.a)(y,2),P=I[0],A=I[1],T=Object(C.useState)(!1),F=Object(S.a)(T,2),D=F[0],U=F[1],H=Object(C.useState)(""),$=Object(S.a)(H,2),M=$[0],Z=$[1],G=Object(C.useState)("Select Parking"),K=Object(S.a)(G,2),X=K[0],J=(K[1],Object(C.useContext)(Oe).user),Q=n.find((function(e){return Number(e.id)===Number(J.parkingId)})),ee=n.map((function(e){return{text:e.id,value:e.id}})),te=Object(C.useState)({firstName:"",vehicleType:""}),re=Object(S.a)(te,2),ae=re[0],ce=re[1],ie=function(){var e=Object(E.a)(R.a.mark((function e(){var t,n,a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.trim().replace(/\s\s+/g," "),n={licensePlate:t.toUpperCase(),vehicleType:ae.vehicleType,parkingId:M,userId:J.id},A(!0),e.prev=3,e.next=6,de(n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),N(e.t0);case 11:return e.prev=11,e.next=14,ne();case 14:a=e.sent,c=a.data,Z(c[0].name),e.next=21;break;case 19:e.prev=19,e.t1=e.catch(11);case 21:A(!1),r(),U(!1);case 24:case"end":return e.stop()}}),e,null,[[3,8],[11,19]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(Ce.a,{children:[Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsx)(Ce.a.Header,{textAlign:"center",children:"Add New Vehicle"}),Object(W.jsx)(we.a,{}),w?Object(W.jsx)(B.a,{negative:!0,children:w.toString()}):Object(W.jsxs)(Ce.a.Description,{textAlign:"center",children:[Object(W.jsxs)(q.a,{size:"big",children:[Object(W.jsx)(Ne,{licensePlate:m,handleLicensePlateChange:function(e,t){var n=t.value;n.length<12&&g(n),s&&o(!1),j&&b(!1),x&&O(!1)},licensePlateError:s}),Object(W.jsx)(q.a.Dropdown,{placeholder:"Select vehicle type...",name:"vehicleType",label:"Vehicle Type",selection:!0,onChange:function(e,t){var n=t||e.target,r=n.name,a=n.value;ce(Object(L.a)(Object(L.a)({},ae),{},Object(ke.a)({},r,a)))},options:[{key:"1",text:"Coupe",value:"COUPE"},{key:"2",text:"Wagon",value:"WAGON"},{key:"3",text:"SUV",value:"SUV"},{key:"4",text:"Pickup Truck",value:"PICKUPTRUCK"},{key:"5",text:"Sedan",value:"SEDAN"},{key:"6",text:"Motorcycle",value:"MOTORCYCLE"}],value:ae.vehicleType}),Object(W.jsx)("strong",{children:"Parking Number:"})]}),Object(W.jsx)("div",{style:{marginBottom:"1%",marginTop:"1%"},children:Object(W.jsx)(q.a.Field,{value:M,onChange:function(e,t){var n=t.value;Z(n)},required:!0,control:Y.a,options:ee,placeholder:X,search:!0})})]})]}),Object(W.jsx)(Ce.a.Content,{extra:!0,textAlign:"center",children:Object(W.jsxs)(z.a,{fluid:!0,animated:!0,basic:!0,color:"green",onClick:function(){var e=m.trim().replace(/\s\s+/g," ");t.some((function(t){return t.licensePlate.toUpperCase()===e.toUpperCase()}))?(b(!0),U(!0)):a.some((function(t){return t.licensePlate.toUpperCase()===e.toUpperCase()&&Number(t.parkingId)===Number(Q.id)}))?(O(!0),U(!0)):!/^[a-zA-Z]+$/.test(e.split(" ")[0])||e.split(" ")[0].length>2||isNaN(e.split(" ")[1])||e.split(" ")[1].length>4||!/^[a-zA-Z]+$/.test(e.split(" ")[2])||e.split(" ")[2].length>2?o(!0):(o(!1),U(!0))},children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Add"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"add"})})]})})]}),Object(W.jsxs)(V.a,{dimmer:"blurring",open:D,onClose:function(){return U(!1)},children:[Object(W.jsx)(V.a.Header,{children:j||x?"Something wrong!":"Are you sure?"}),Object(W.jsx)(V.a.Content,{children:j?Object(W.jsx)(B.a,{negative:!0,header:"This license plate already declared."}):x?Object(W.jsx)(B.a,{negative:!0,header:"This car in black list."}):Object(W.jsxs)("h3",{children:["License Plate: ",Object(W.jsx)("i",{style:{color:"red"},children:m}),Object(W.jsx)("br",{}),"Parking: ",Object(W.jsx)("i",{style:{color:"red"},children:Q.name}),Object(W.jsx)("br",{})]})}),Object(W.jsxs)(V.a.Actions,{children:[Object(W.jsx)(z.a,{negative:!0,onClick:function(){return U(!1)},children:j||x?"OK!":"Nope, something wrong"}),j||x?null:Object(W.jsx)(z.a,{positive:!0,onClick:ie,loading:P,children:"Add my car"})]})]})]})},Se=function(e){var t=e.date,n=function(e){return e<10?"0"+e:e};return Object(W.jsxs)("strong",{"data-testid":"dateFormatter",children:[n(t.getDate()),".",n(t.getMonth()+1),".",t.getFullYear(),Object(W.jsx)("br",{}),n(t.getHours()),":",n(t.getMinutes()),":",n(t.getSeconds())]})},Ie=F.a.div(h||(h=Object(T.a)(["\n    background-color:white;\n    padding:5%;\n    margin-left:12.5%;\n    text-align:center;\n    box-shadow: 3px 3px 3px 3px #106B54;\n    border-radius:5px;\n"]))),Pe=F.a.div(x||(x=Object(T.a)(["\n    word-wrap:break-word;\n    word-break:break-word;\n    text-align:center;\n    font-weight:bold;\n    padding:5px;\n    width:100%;\n    color:#0273B4;\n"]))),Le=function(e){var t=e.content,n=e.updateBlacklist,r=Object(C.useState)(!1),a=Object(S.a)(r,2),c=a[0],i=a[1],s=function(){var e=Object(E.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,r=Number(t.id),ee.delete("/blacklist/".concat(r),Q);case 4:n(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:i(!1);case 10:case"end":return e.stop()}var r}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(Ce.a,{children:Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsx)(Ce.a.Header,{textAlign:"center",children:t.licensePlate}),Object(W.jsx)(we.a,{}),Object(W.jsx)(Ce.a.Description,{textAlign:"center",children:Object(W.jsxs)(Pe,{children:["Block Time ",Object(W.jsx)("br",{}),Object(W.jsx)(Se,{date:new Date(t.date)})]})}),Object(W.jsx)(Ce.a.Content,{extra:!0,textAlign:"center",children:Object(W.jsxs)(z.a,{id:t.id,animated:"fade",basic:!0,positive:!0,onClick:s,loading:c,children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Remove from blacklist"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"thumbs up outline"})})]})})]})})},Ae=function(e){var t=e.content,n=e.vehicles,r=e.parkings,a=e.reports,c=e.updateReports,i=Object(C.useContext)(Oe).user,s=Object(C.useState)(""),o=Object(S.a)(s,2),l=o[0],u=o[1],j=Object(C.useState)(!1),b=Object(S.a)(j,2),d=b[0],h=b[1],x=Object(C.useState)(!1),O=Object(S.a)(x,2),p=O[0],f=O[1],m=Object(C.useState)(!1),g=Object(S.a)(m,2),v=g[0],k=g[1],w=Object(C.useState)(!1),N=Object(S.a)(w,2),y=N[0],I=N[1],P=Object(C.useState)(!1),L=Object(S.a)(P,2),A=L[0],T=L[1],F=n.find((function(e){return e.id.toString()===t.vehicleId.toString()})).licensePlate,D=r.find((function(e){return e.id.toString()===t.parkingId.toString()})).name,U=function(){var e=Object(E.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^[.,0123456789 ]+$/.test(l)||l.trim().replace(/\s\s+/g," ").length<5){e.next=24;break}if(!a.some((function(e){return e.reportReason.toUpperCase()===l.toUpperCase()&&e.active&&Number(e.vehicleId)===Number(t.vehicleId)}))){e.next=7;break}f(!0),T(!0),setTimeout((function(){T(!1)}),1e3),e.next=22;break;case 7:return I(!0),k(!0),T(!0),setTimeout((function(){T(!1),k(!1)}),1e3),e.prev=11,e.next=14,n={parkingId:t.parkingId,vehicleId:t.vehicleId,employeeId:i.id,reportReason:l.trim().replace(/\s\s+/g," ").toUpperCase(),active:!0},ee.post("/report_list",n,Q);case 14:u(""),c(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),console.log(e.t0.toString());case 21:I(!1);case 22:e.next=25;break;case 24:h(!0);case 25:case"end":return e.stop()}var n}),e,null,[[11,18]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(Ce.a,{children:[Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsx)(Ce.a.Header,{textAlign:"center",children:F}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(Ce.a.Description,{textAlign:"center",children:["Parking name ",Object(W.jsx)("br",{})," ",Object(W.jsx)("strong",{children:D}),Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),Object(W.jsx)(q.a,{size:"big",children:Object(W.jsx)(q.a.Input,{value:l,error:d,icon:"times",iconPosition:"left",label:"Reason",placeholder:"Report reason (min. 5)",onChange:function(e,t){var n=t.value;(/^[a-zA-Z0-9., ]+$/.test(n)||""===n)&&n.length<50&&(u(n),f(!1),d&&h(!1))}})})]})]}),Object(W.jsx)(Ce.a.Content,{extra:!0,textAlign:"center",children:Object(W.jsxs)(z.a,{loading:y,animated:"fade",basic:!0,color:"red",onClick:U,children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Report Car"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"clipboard outline"})})]})})]}),Object(W.jsx)(V.a,{dimmer:"blurring",open:A,onClose:function(){return T(!1)},children:Object(W.jsx)(V.a.Header,{children:p?Object(W.jsx)(B.a,{negative:!0,color:"red",header:"This car already reported for that reason."}):v?Object(W.jsx)(B.a,{positive:!0,header:"Car reported successfully."}):null})})]})},Re=function(e){var t=e.content,n=e.updateEmployees,r=Object(C.useState)(!1),a=Object(S.a)(r,2),c=a[0],i=a[1],s=function(){var e=Object(E.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,r=Number(t.id),a={accepted:!0},ee.put("/employees/".concat(r),a,Q);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:i(!1),n();case 10:case"end":return e.stop()}var r,a}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(E.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,r=Number(t.id),ee.delete("/employees/".concat(r),Q);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:i(!1),n();case 10:case"end":return e.stop()}var r}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(Ce.a,{children:Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsx)(Ce.a.Header,{textAlign:"center",children:t.fullName}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(Ce.a.Description,{textAlign:"center",children:[Object(W.jsxs)(Pe,{children:["Phone : ",Object(W.jsx)("strong",{children:t.phone})]}),Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),Object(W.jsx)("h3",{children:"Wants to work with you."})]}),Object(W.jsx)(Ce.a.Content,{extra:!0,textAlign:"center",children:Object(W.jsxs)(z.a.Group,{children:[Object(W.jsxs)(z.a,{id:t.id,animated:"fade",basic:!0,positive:!0,onClick:s,loading:c,children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Accept"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"thumbs up outline"})})]}),Object(W.jsxs)(z.a,{id:t.id,animated:"fade",basic:!0,negative:!0,onClick:o,loading:c,children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Reject"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"times"})})]})]})})]})})},Ee=F.a.div(O||(O=Object(T.a)(["\n    color:red;\n    font-weight:bold;\n"]))),Te=function(e){var t=e.content,n=e.vehicles,r=e.parkings;return Object(W.jsx)(Ce.a,{children:Object(W.jsx)("div",{style:{border:"5px solid",borderColor:t.exitTime?"red":"greenyellow"},children:Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsx)(Ce.a.Header,{textAlign:"center",children:Object(W.jsx)("strong",{children:n.find((function(e){return Number(e.id)===Number(t.vehicleId)})).licensePlate})}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(Ce.a.Description,{children:[Object(W.jsxs)(Pe,{children:["Vehicle type ",Object(W.jsx)(Ee,{children:Object(W.jsx)("strong",{children:n.find((function(e){return Number(e.id)===Number(t.vehicleId)})).vehicleType})})]}),Object(W.jsxs)(Pe,{children:["Parking name  ",Object(W.jsx)(Ee,{children:r.find((function(e){return Number(e.id)===Number(t.parkingId)})).name.toUpperCase()})]}),Object(W.jsxs)(Pe,{children:["Entrance Time",Object(W.jsx)(Ee,{children:Object(W.jsx)(Se,{date:new Date(t.entranceTime)})})]}),Object(W.jsxs)(Pe,{children:["Exit time",Object(W.jsx)(Ee,{children:t.exitTime?Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(Se,{date:new Date(t.exitTime)})}):"Still inside"})]}),Object(W.jsxs)(Pe,{children:["Parking Spot Number  ",Object(W.jsx)(Ee,{children:t.parkAreaNumber})]})]})]})})})},Fe=function(e){var t=e.content,n=e.vehicles,r=e.index,a=e.updateVehicles,c=e.setCarError,i=e.selectedCar,s=e.allLogs,o=Object(C.useContext)(Oe),l=o.user,u=o.authenticated,j=Object(C.useState)(!1),b=Object(S.a)(j,2),d=b[0],h=b[1],x=Object(C.useState)(!1),O=Object(S.a)(x,2),p=O[0],f=O[1],m=function(){var e=Object(E.a)(R.a.mark((function e(){var s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===i){e.next=16;break}return s=n.find((function(e){return i===e.licensePlate})).id,e.prev=2,h(!0),e.next=6,oe(t.id,{vehicleId:s,full:!0});case 6:return e.next=8,o={vehicleId:s,parkingId:t.parkingId,parkAreaNumber:Number(r)+1},ee.post("/entrance_exit_log",o,Q);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:a(),h(!0),e.next=17;break;case 16:c(!0);case 17:case"end":return e.stop()}var o}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(E.a)(R.a.mark((function e(){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),n=s.find((function(e){return Number(e.vehicleId)===Number(t.vehicleId)&&!e.exitTime})).id,e.next=5,oe(t.id,{vehicleId:0,full:!1});case 5:return e.next=7,r=n,c={exitTime:new Date},ee.put("/entrance_exit_log/".concat(r),c,Q);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:a(),h(!1);case 14:case"end":return e.stop()}var r,c}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Ce.a,{children:Object(W.jsx)("div",{style:{border:"5px solid",borderColor:t.full?"red":"green"},children:Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsxs)(Ce.a.Header,{textAlign:"center",children:["Parking Spot ",Object(W.jsx)("strong",{children:r+1})]}),Object(W.jsx)(we.a,{}),Object(W.jsx)(Ce.a.Description,{textAlign:"center",children:Object(W.jsxs)(Pe,{children:["License Plate ",Object(W.jsx)("br",{}),Object(W.jsx)("h2",{children:t.full&&n.some((function(e){return Number(e.id)===Number(t.vehicleId)}))?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{style:{border:"1px solid red"},children:[n.find((function(e){return Number(e.id)===Number(t.vehicleId)})).licensePlate,"MOTORCYCLE"===n.find((function(e){return Number(e.id)===Number(t.vehicleId)})).vehicleType?Object(W.jsx)(_.a,{name:"motorcycle"}):"PICKUPTRUCK"===n.find((function(e){return Number(e.id)===Number(t.vehicleId)})).vehicleType?Object(W.jsx)(_.a,{name:"truck"}):Object(W.jsx)(_.a,{name:"car"})]}),Object(W.jsx)(we.a,{}),Object(W.jsxs)("div",{children:[" ",Object(W.jsxs)("h4",{children:["Vehicle Type:"," ",n.find((function(e){return Number(e.id)===Number(t.vehicleId)})).vehicleType]})]})]}):"None"})]})}),"User"===u?Object(W.jsx)(Ce.a.Content,{extra:!0,textAlign:"center",children:t.full?n.some((function(e){return Number(e.id)===Number(t.vehicleId)&&Number(e.userId)===Number(l.id)}))?Object(W.jsxs)(z.a,{fluid:!0,animated:"fade",primary:!0,onClick:g,loading:d,children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Exit"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"sign-out"})})]}):Object(W.jsx)(z.a,{fluid:!0,disabled:!0,negative:!0,children:"Full"}):Object(W.jsxs)(z.a,{fluid:!0,animated:"fade",positive:!0,onClick:function(){f(!0)},loading:d,children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Park here"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"add"})})]})}):null]})})}),Object(W.jsxs)(V.a,{dimmer:"blurring",open:p,onClose:function(){return f(!1)},children:[Object(W.jsx)(V.a.Header,{children:"Are you sure?"}),Object(W.jsx)(V.a.Content,{children:Object(W.jsx)("h3",{children:"Do you want to book this parking spot?"})}),Object(W.jsxs)(V.a.Actions,{children:[Object(W.jsx)(z.a,{negative:!0,onClick:function(){return f(!1)},children:"No, take me back"}),Object(W.jsx)(z.a,{positive:!0,onClick:m,children:"Park here"})]})]})]})},De=function(e){var t=e.content,n=e.vehicles,r=e.parkings,a=e.employees,c=e.updateReports,i=e.parkAreas,s=Object(C.useState)(!1),o=Object(S.a)(s,2),l=o[0],u=o[1],j=Object(C.useState)(!1),b=Object(S.a)(j,2),d=b[0],h=b[1],x=function(){var e=Object(E.a)(R.a.mark((function e(n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,n=t.id,r={active:!1},ee.put("/report_list/".concat(n),r,Q);case 4:c(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:u(!1);case 10:case"end":return e.stop()}var n,r}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(E.a)(R.a.mark((function e(r){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,he(Number(t.vehicleId));case 4:return e.next=6,ue(Number(t.vehicleId));case 6:return e.next=8,ie(Number(t.vehicleId));case 8:if(!i.some((function(e){return Number(e.vehicleId)===Number(t.vehicleId)&&e.full}))){e.next=12;break}return a=i.find((function(e){return Number(e.vehicleId)===Number(t.vehicleId)&&e.full})),e.next=12,oe(Number(a.id),{vehicleId:0,full:!1});case 12:return e.next=14,r={parkingId:Number(t.parkingId),licensePlate:n.find((function(e){return Number(e.id)===Number(t.vehicleId)})).licensePlate},ee.post("/blacklist",r,Q);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0.toString());case 19:c(),h(!1);case 21:case"end":return e.stop()}var r}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsx)(Ce.a,{children:Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsx)(Ce.a.Header,{textAlign:"center",children:n.find((function(e){return Number(e.id)===Number(t.vehicleId)})).licensePlate}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(Ce.a.Description,{textAlign:"center",children:[Object(W.jsxs)(Pe,{children:["Parking name : ",Object(W.jsx)("strong",{children:r.find((function(e){return Number(e.id)===Number(t.parkingId)})).name})]}),Object(W.jsxs)(Pe,{children:["Reported By : ",Object(W.jsx)("strong",{children:a.find((function(e){return Number(e.id)===Number(t.employeeId)})).fullName})]}),Object(W.jsxs)(Pe,{children:["Report Reason : ",Object(W.jsx)("strong",{style:{color:"red"},children:t.reportReason})]}),Object(W.jsxs)(Pe,{children:["Report Time ",Object(W.jsx)("br",{}),Object(W.jsx)(Se,{date:new Date(t.date)})]})]}),Object(W.jsx)(Ce.a.Content,{extra:!0,textAlign:"center",children:Object(W.jsxs)(z.a.Group,{children:[Object(W.jsxs)(z.a,{id:t.id,animated:"fade",basic:!0,positive:!0,onClick:x,loading:l,children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Reject"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"thumbs up outline"})})]}),Object(W.jsxs)(z.a,{id:t.id,animated:"fade",basic:!0,negative:!0,onClick:O,loading:d,children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Add Blacklist"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"times"})})]})]})})]})})},Ue=function(e){var t=e.content;e.users,e.parkings,e.feedbacks;return Object(W.jsx)(Ce.a,{children:Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsxs)(Ce.a.Header,{textAlign:"center",children:["Feedback from user with ID : ",Object(W.jsx)("strong",{children:t.userId})]}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(Ce.a.Description,{textAlign:"center",children:[Object(W.jsxs)(Pe,{children:["Feedback ID : ",Object(W.jsx)("strong",{children:t.id})]}),Object(W.jsxs)(Pe,{children:["Feedback Date: ",Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(Se,{date:new Date(t.feedbackLeft)})})]}),Object(W.jsxs)(Pe,{children:["Feedback: ",Object(W.jsx)("strong",{children:t.feedback})]})]})]})})},Ve=function(e){var t=e.content,n=e.users,r=e.parkings;return Object(W.jsx)(Ce.a,{children:Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsxs)(Ce.a.Header,{textAlign:"center",children:[t.licensePlate,Object(W.jsx)("h4",{children:t.vehicleType})]}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(Ce.a.Description,{textAlign:"center",children:[Object(W.jsxs)(Pe,{children:["Parking name : ",Object(W.jsx)("strong",{children:r.find((function(e){return Number(e.id)===Number(t.parkingId)})).name})]}),Object(W.jsxs)(Pe,{children:["Vehicle ID : ",Object(W.jsx)("strong",{children:t.id})]}),Object(W.jsxs)(Pe,{children:["User ID : ",Object(W.jsx)("strong",{children:t.userId})]}),Object(W.jsxs)(Pe,{children:["User Name : ",Object(W.jsx)("strong",{children:n.find((function(e){return Number(e.id)===Number(t.userId)})).fullName})]}),Object(W.jsxs)(Pe,{children:["Phone : ",Object(W.jsx)("strong",{children:n.find((function(e){return Number(e.id)===Number(t.userId)})).phone})]})]})]})})},Be=n(631),ze=function(e){var t=e.content,n=e.parkings,r=e.updateVehicles,a=e.parkAreas,c=e.setListedVehicleId,i=e.setListLogs,s=e.setListReports,o=n.find((function(e){return Number(e.id)===Number(t.parkingId)})).name,l=Object(C.useState)(!1),u=Object(S.a)(l,2),j=u[0],b=u[1],d=Object(C.useState)(!1),h=Object(S.a)(d,2),x=h[0],O=h[1],p=function(){var e=Object(E.a)(R.a.mark((function e(t,n){var c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.id,b(!0),e.prev=2,e.next=5,he(c);case 5:return e.next=7,ue(Number(c));case 7:return e.next=9,ie(Number(c));case 9:if(!a.some((function(e){return Number(e.vehicleId)===Number(c)&&e.full}))){e.next=13;break}return i=a.find((function(e){return Number(e.vehicleId)===Number(c)&&e.full})),e.next=13,oe(Number(i.id),{vehicleId:0,full:!1});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:b(!1),r();case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(Ce.a,{children:[Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsx)(Ce.a.Header,{textAlign:"center",children:t.licensePlate}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(Ce.a.Description,{textAlign:"center",children:["Parking name ",Object(W.jsx)("br",{})," ",Object(W.jsx)("strong",{children:o.toUpperCase()})]}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(Ce.a.Description,{textAlign:"center",children:["Vehicle Type: ",Object(W.jsx)("br",{})," ",t.vehicleType]})]}),Object(W.jsxs)(Ce.a.Content,{extra:!0,textAlign:"center",children:[Object(W.jsxs)(z.a.Group,{children:[Object(W.jsxs)(z.a,{id:t.id,animated:"fade",basic:!0,color:"green",onClick:function(e,t){var n=t.id;c(n),i(!0)},children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"List Logs"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"list"})})]}),Object(W.jsxs)(z.a,{id:t.id,animated:"fade",basic:!0,color:"blue",onClick:function(e,t){var n=t.id;c(n),s(!0)},children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"List Reports"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"list"})})]})]}),Object(W.jsxs)(z.a,{animated:"fade",basic:!0,color:"red",onClick:function(){return O(!0)},children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Delete Car"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"trash alternate"})})]})]})]}),Object(W.jsxs)(V.a,{basic:!0,dimmer:"blurring",open:x,onClose:function(){return O(!1)},children:[Object(W.jsxs)(Be.a,{icon:!0,children:[Object(W.jsx)(_.a,{name:"car"})," Delete this car?"]}),Object(W.jsxs)(V.a.Actions,{children:[Object(W.jsx)(z.a,{negative:!0,onClick:function(){return O(!1)},children:"No"}),Object(W.jsx)(z.a,{id:t.id,positive:!0,onClick:p,loading:j,children:"Yes"})]})]})]})},He=function(e){var t=e.content,n=e.vehicles,r=e.parkings,a=e.employees;return Object(W.jsx)(Ce.a,{children:Object(W.jsx)("div",{style:{border:"5px solid",borderColor:t.active?"greenyellow":"red"},children:Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsx)(Ce.a.Header,{textAlign:"center",children:n.find((function(e){return Number(e.id)===Number(t.vehicleId)})).licensePlate}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(Ce.a.Description,{textAlign:"center",children:[Object(W.jsxs)(Pe,{children:["Parking name : ",Object(W.jsx)("strong",{children:r.find((function(e){return Number(e.id)===Number(t.parkingId)})).name.toUpperCase()})]}),Object(W.jsxs)(Pe,{children:["Reported By : ",Object(W.jsx)("strong",{children:a.find((function(e){return Number(e.id)===Number(t.employeeId)})).fullName})]}),Object(W.jsxs)(Pe,{children:["Report Reason : ",Object(W.jsx)("strong",{style:{color:"red"},children:t.reportReason})]}),Object(W.jsxs)(Pe,{children:["Report Time ",Object(W.jsx)("br",{}),Object(W.jsx)(Se,{date:new Date(t.date)})]}),Object(W.jsxs)(Pe,{children:["Parking Spot Number : ",Object(W.jsx)("strong",{children:t.id})]}),Object(W.jsxs)(Pe,{children:["Status : ",Object(W.jsx)("strong",{children:t.active?"Active":"Forgiven"})]})]})]})})})},qe=function(e){var t=e.vehicles,n=e.contents,r=e.getContent,a=e.parkings,c=e.parkAreas,i=e.updateVehicles,s=e.setListedVehicleId,o=e.setListLogs,l=e.setListReports,u=e.employees,j=e.setCarError,b=e.selectedCar,d=e.allLogs,h=e.reports,x=e.updateReports,O=e.deleteFeedback,p=e.blacklist,f=e.updateEmployees,m=e.users,g=e.updateBlacklist;return n.sort((function(e,t){return Number(e.id)-Number(t.id)})),Object(W.jsxs)(U.a,{stackable:!0,children:["UserVehicleCard"===r?Object(W.jsx)(U.a.Column,{width:"4",children:Object(W.jsx)(ye,{vehicles:n,parkings:a,updateVehicles:i,blacklist:p})}):null,n.map((function(e,n){return Object(W.jsx)(U.a.Column,{width:"4",children:"BlacklistCard"===r?Object(W.jsx)(Le,{content:e,vehicles:t,updateBlacklist:g}):"EmployeeReportCard"===r?Object(W.jsx)(Ae,{content:e,vehicles:t,parkings:a,reports:h,updateReports:x}):"EmployeeRequestCard"===r?Object(W.jsx)(Re,{content:e,updateEmployees:f}):"LogCard"===r?Object(W.jsx)(Te,{content:e,vehicles:t,parkings:a}):"ParkAreaCard"===r?Object(W.jsx)(Fe,{content:e,allLogs:d,selectedCar:b,vehicles:t,updateVehicles:i,index:n,setCarError:j}):"ParkingOwnerReportCard"===r?Object(W.jsx)(De,{content:e,vehicles:t,parkings:a,employees:u,updateReports:x,parkAreas:c}):"ParkingOwnerFeedbackCard"===r?Object(W.jsx)(Ue,{content:e,users:m,deleteFeedback:O}):"ParkingOwnerVehicleCard"===r?Object(W.jsx)(Ve,{content:e,parkings:a,users:m}):"UserVehicleCard"===r?Object(W.jsx)(ze,{content:e,parkAreas:c,parkings:a,updateVehicles:i,setListedVehicleId:s,setListLogs:o,setListReports:l}):"UserVehicleReportCard"===r?Object(W.jsx)(He,{content:e,vehicles:t,parkings:a,employees:u}):null},n)}))]})},Ye=n(623),$e=F.a.div(p||(p=Object(T.a)(["\n    padding: 3em;\n    width:90%;\n"]))),_e=(F.a.img(f||(f=Object(T.a)(["\n    border-radius: 50%;\n    height:50px;\n    width:50px;\n"]))),function(e){var t=e.menuItems,n=e.activeMenu,r=e.handleHeaderOnClick;return Object(W.jsxs)($e,{children:[Object(W.jsxs)(Ye.a,{inverted:!0,size:"huge",widths:t.length+1,pointing:!0,stackable:!0,children:[t.map((function(e,t){return Object(W.jsx)(Ye.a.Item,{name:e,onClick:r,active:n===e,color:n===e?"blue":"black"},t)}))," "]})," "]})}),Me={user:["Your Vehicles","Book Parking","Feedback"],employee:["Report A Car","Entrance Exit Log"],parkingOwner:["Entrance Exit Log","Report List","List Parking Spot","List Vehicles","Feedbacks"]},Ze=F.a.input(m||(m=Object(T.a)(["\n    margin-top:1%;\n    margin-bottom: 1%;\n    padding: 5px;\n    border-radius:5px;\n    border: 2px solid blue;\n"]))),Ge=function(e){var t=e.userInput,n=e.onChange,r=e.placeholder;return Object(W.jsx)(Ze,{"data-testid":"input",value:t,onChange:n,placeholder:r})},Ke=n(620),We=function(e){var t=e.handleOnClick;return Object(W.jsxs)(z.a,{"data-testid":"logout",animated:!0,fluid:!0,negative:!0,onClick:t,children:[Object(W.jsxs)(z.a.Content,{visible:!0,children:["Logout ",Object(W.jsx)(_.a,{name:"sign out"})]}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"arrow right"})})]})},Xe=function(e){var t=e.person,n=Object(C.useContext)(Oe),r=n.setUser,a=n.setAuthenticated,c=Object(P.k)();return Object(W.jsxs)(Ie,{children:[Object(W.jsx)(Ke.a,{textAlign:"center",children:"Welcome"}),Object(W.jsx)("br",{}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(U.a,{children:[Object(W.jsxs)(Ke.a,{textAlign:"center",children:["Name ",Object(W.jsx)(_.a,{name:"user"})]}),Object(W.jsx)(Pe,{children:t.fullname})]}),Object(W.jsx)(we.a,{}),Object(W.jsxs)(U.a,{children:[Object(W.jsxs)(Ke.a,{textAlign:"center",children:["Phone ",Object(W.jsx)(_.a,{name:"phone"})]}),Object(W.jsx)(Pe,{children:t.phone})]}),Object(W.jsx)(we.a,{}),Object(W.jsx)(U.a,{children:t.registrationDate?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(Ke.a,{textAlign:"center",children:["Registration Date ",Object(W.jsx)(_.a,{name:"calendar alternate outline"})]}),Object(W.jsx)(Pe,{children:Object(W.jsx)(Se,{date:t.registrationDate})})]}):null}),Object(W.jsx)(we.a,{}),Object(W.jsx)(We,{handleOnClick:function(){a(""),r({}),c.push("/login")}})]})},Je=F.a.div(g||(g=Object(T.a)(["\n    padding:0%;\n    padding-bottom:60px;\n"]))),Qe=F.a.div(v||(v=Object(T.a)(["\n    margin-top:0.5%;\n    margin-left:0.5%;\n    background-color: white;\n    border-radius: 15px;\n    width: 68%;\n    padding: 15px;\n"]))),et=n(245),tt=n.n(et),nt=n(618),rt=function(e){e.content;var t=e.updateFeedbacks,n=Object(C.useContext)(Oe).user,r=Object(C.useState)(""),a=Object(S.a)(r,2),c=a[0],i=a[1],s=Object(C.useState)(!1),o=Object(S.a)(s,2),l=o[0],u=o[1],j=Object(C.useState)(!1),b=Object(S.a)(j,2),d=b[0],h=b[1],x=function(){var e=Object(E.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^[.,0123456789 ]+$/.test(c)||c.trim().replace(/\s\s+/g," ").length<5){e.next=14;break}return u(!0),h(!0),setTimeout((function(){h(!1),u(!1)}),1e3),e.prev=4,e.next=7,r={feedback:c.trim().replace(/\s\s+/g," "),userId:n.id,parkingId:n.parkingId},ee.post("/feedback",r,Q);case 7:i(""),t(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0.toString());case 14:case"end":return e.stop()}var r}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(Ce.a,{centered:!0,style:{width:"50rem",marginTop:"2%"},children:[Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsx)(Ce.a.Header,{textAlign:"center",children:"Leave feedback"}),Object(W.jsx)(we.a,{}),Object(W.jsx)(q.a,{size:"big",children:Object(W.jsx)(q.a.Field,{control:nt.a,value:c,icon:"times",iconPosition:"left",label:"Comment",placeholder:"Enter your comment here(min. 5)",onChange:function(e,t){var n=t.value;(/^[a-zA-Z0-9., ]+$/.test(n)||""===n)&&n.length<50&&i(n)}})})]}),Object(W.jsx)(Ce.a.Content,{extra:!0,textAlign:"center",children:Object(W.jsxs)(z.a,{animated:"fade",basic:!0,color:"red",onClick:x,children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Leave comment"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"clipboard outline"})})]})})]}),Object(W.jsx)(V.a,{dimmer:"blurring",open:d,onClose:function(){return h(!1)},children:Object(W.jsx)(V.a.Header,{children:l?Object(W.jsx)(B.a,{positive:!0,header:"Your comment was submitted successfully."}):null})})]})},at=function(){var e=Object(C.useContext)(Oe).user,t=Object(C.useState)([]),n=Object(S.a)(t,2),r=n[0],a=n[1],c=Object(C.useState)([]),i=Object(S.a)(c,2),s=i[0],o=i[1],l=Object(C.useState)([]),u=Object(S.a)(l,2),j=u[0],b=u[1],d=Object(C.useState)([]),h=Object(S.a)(d,2),x=h[0],O=h[1],p=Object(C.useState)([]),f=Object(S.a)(p,2),m=f[0],g=f[1],v=Object(C.useState)([]),k=Object(S.a)(v,2),N=k[0],y=k[1],I=Object(C.useState)(!1),P=Object(S.a)(I,2),L=P[0],A=P[1],T=Object(C.useState)("Select Parking"),F=Object(S.a)(T,2),D=F[0],V=F[1],H=Object(C.useState)([]),$=Object(S.a)(H,2),M=$[0],Z=$[1],G=Object(C.useState)([]),K=Object(S.a)(G,2),X=K[0],J=K[1],Q=Object(C.useState)([]),ee=Object(S.a)(Q,2),te=ee[0],ie=ee[1],oe=Object(C.useState)(!1),ue=Object(S.a)(oe,2),je=ue[0],de=ue[1],he=Object(C.useState)([]),xe=Object(S.a)(he,2),pe=xe[0],fe=xe[1],ke=Object(C.useState)(0),Ce=Object(S.a)(ke,2),we=Ce[0],Ne=Ce[1],ye=Object(C.useState)(0),Se=Object(S.a)(ye,2),Ie=Se[0],Pe=Se[1],Le=Object(C.useState)(!1),Ae=Object(S.a)(Le,2),Re=Ae[0],Ee=Ae[1],Te=Object(C.useState)(""),Fe=Object(S.a)(Te,2),De=Fe[0],Ue=Fe[1],Ve=Object(C.useState)(""),Be=Object(S.a)(Ve,2),ze=Be[0],He=Be[1],Ye=Object(C.useState)(Me.user[0]),$e=Object(S.a)(Ye,2),Ze=$e[0],Ke=$e[1],We=Object(C.useState)(""),et=Object(S.a)(We,2),nt=et[0],at=et[1],ct=Object(C.useState)(""),it=Object(S.a)(ct,2),st=it[0],ot=it[1],lt=Object(C.useState)(!1),ut=Object(S.a)(lt,2),jt=ut[0],bt=ut[1],dt=Object(C.useState)([]),ht=Object(S.a)(dt,2),xt=ht[0],Ot=ht[1],pt=w.a.createRef();Object(C.useEffect)((function(){(function(){var t=Object(E.a)(R.a.mark((function t(){var n,r,c,i,s,l;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ee(!0),t.prev=1,t.next=4,be();case 4:n=t.sent,r=n.data,o(r),r=r.filter((function(t){return Number(e.id)===Number(t.userId)})),a(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),Ue(t.t0);case 14:return t.prev=14,t.next=17,ne();case 17:c=t.sent,i=c.data,b(i),ot(i[0].name),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(14),Ue(t.t1);case 26:return t.prev=26,t.next=29,re();case 29:s=t.sent,l=s.data,J(l),t.next=37;break;case 34:t.prev=34,t.t2=t.catch(26),Ue(t.t2);case 37:Ee(!1);case 38:case"end":return t.stop()}}),t,null,[[1,11],[14,23],[26,34]])})));return function(){return t.apply(this,arguments)}})()()}),[e.id]),Object(C.useEffect)((function(){at("");var t=m.filter((function(e){return e.full})).map((function(e){return Number(e.vehicleId)}));Ot(r.filter((function(n){return Number(n.userId)===Number(e.id)&&!t.includes(Number(n.id))})).map((function(e){return{text:e.licensePlate,value:e.licensePlate}})))}),[m,r,e.id]),Object(C.useEffect)((function(){!function(){if(""!==nt&&0!==j.length&&0!==m.length){var e=j.find((function(e){return Number(e.id)===Number(s.find((function(e){return e.licensePlate===nt})).parkingId)})).id;Pe(Number(e)),y(m.filter((function(t){return Number(t.parkingId)===Number(e)}))),V(j.find((function(t){return Number(t.id)===Number(e)})).name),ot("")}}()}),[nt,m,s,j]),Object(C.useEffect)((function(){!function(){if(""!==st&&0!==j.length&&0!==m.length){var e=j.find((function(e){return e.name===st})).id;Pe(Number(e)),y(m.filter((function(t){return Number(t.parkingId)===Number(e)}))),at("")}}()}),[st,m,j]),Object(C.useEffect)((function(){var e=function(){var e=Object(E.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(!0),e.prev=1,e.next=4,ce();case 4:t=e.sent,n=t.data,ie(n),n=n.filter((function(e){return Number(e.vehicleId)===Number(we)})),Z(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),Ue(e.t0);case 14:Ee(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(E.a)(R.a.mark((function e(){var t,n,r,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(!0),e.prev=1,e.next=4,le();case 4:t=e.sent,n=(n=t.data).filter((function(e){return Number(e.vehicleId)===Number(we)})),fe(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Ue(e.t0);case 13:return e.prev=13,e.next=16,ae();case 16:r=e.sent,a=r.data,O(a),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(13),Ue(e.t1);case 24:Ee(!1);case 25:case"end":return e.stop()}}),e,null,[[1,10],[13,21]])})));return function(){return e.apply(this,arguments)}}();L?e():je&&t()}),[L,je,we]),Object(C.useEffect)((function(){(function(){var t=Object(E.a)(R.a.mark((function t(){var n,r,c,i,s,l,u,j;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ee(!0),"Your Vehicles"!==Ze){t.next=16;break}return t.prev=2,t.next=5,be();case 5:n=t.sent,r=(r=n.data).filter((function(t){return Number(e.id)===Number(t.userId)})),a(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),Ue(t.t0);case 14:t.next=51;break;case 16:if("Book Parking"!==Ze){t.next=51;break}return t.prev=17,t.next=20,be();case 20:c=t.sent,i=c.data,o(i),t.next=28;break;case 25:t.prev=25,t.t1=t.catch(17),Ue(t.t1);case 28:return t.prev=28,t.next=31,se();case 31:s=t.sent,l=s.data,y(l.filter((function(e){return Number(e.parkingId)===Ie}))),g(l),t.next=40;break;case 37:t.prev=37,t.t2=t.catch(28),Ue(t.t2);case 40:return t.prev=40,t.next=43,ce();case 43:u=t.sent,j=u.data,ie(j),t.next=51;break;case 48:t.prev=48,t.t3=t.catch(40),Ue(t.t3);case 51:Ee(!1);case 52:case"end":return t.stop()}}),t,null,[[2,11],[17,25],[28,37],[40,48]])})));return function(){return t.apply(this,arguments)}})()()}),[Ze,Ie,e.id]);var ft={fullname:e.fullName,phone:"0"+e.phone,registrationDate:new Date(e.registrationDate)},mt=function(e){He(e.target.value)},gt=function(){var t=Object(E.a)(R.a.mark((function t(){var n,r,c,i,s,l;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ee(!0),"Your Vehicles"!==Ze){t.next=17;break}return t.prev=2,t.next=5,be();case 5:n=t.sent,r=n.data,o(r),r=r.filter((function(t){return Number(e.id)===Number(t.userId)})),a(r),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),Ue(t.t0);case 15:t.next=41;break;case 17:if("Book Parking"!==Ze){t.next=41;break}return t.prev=18,t.next=21,se();case 21:c=t.sent,i=c.data,y(i.filter((function(e){return Number(e.parkingId)===Ie}))),g(i),t.next=30;break;case 27:t.prev=27,t.t1=t.catch(18),Ue(t.t1);case 30:return t.prev=30,t.next=33,ce();case 33:s=t.sent,l=s.data,ie(l),t.next=41;break;case 38:t.prev=38,t.t2=t.catch(30),Ue(t.t2);case 41:Ee(!1);case 42:case"end":return t.stop()}}),t,null,[[2,12],[18,27],[30,38]])})));return function(){return t.apply(this,arguments)}}(),vt=j.map((function(e){return{text:e.name,value:e.name}}));return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(_e,{menuItems:Me.user,activeMenu:Ze,handleHeaderOnClick:function(e,t){var n=t.name;Ke(n),A(!1),de(!1),Ue("")}}),Object(W.jsx)(Je,{children:Object(W.jsx)(me.a,{innerRef:pt,children:Object(W.jsxs)(U.a,{stackable:!0,children:[Object(W.jsx)(U.a.Column,{width:"3",children:Object(W.jsx)(ge.a,{context:pt,children:Object(W.jsx)(Xe,{person:ft})})}),Object(W.jsxs)(Qe,{children:[Object(W.jsx)(U.a,{stackable:!0,centered:!0,children:"Your Vehicles"!==Ze||L||je?"Your Vehicles"===Ze&&(L||je)?Object(W.jsx)("div",{style:{marginBottom:"1%",marginTop:"1%"},children:Object(W.jsxs)(z.a,{animated:!0,primary:!0,onClick:function(){de(!1),A(!1)},children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Back"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"arrow left"})})]})}):"Book Parking"===Ze?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{style:{marginBottom:"1%",marginTop:"1%",color:De?"red":""},children:Object(W.jsx)(q.a,{children:Object(W.jsx)(q.a.Field,{loading:Re,value:nt,onChange:function(e,t){var n=t.value;at(n),bt(!1)},required:!0,control:Y.a,options:xt,placeholder:"Choose your car",search:!0,error:jt})})}),Object(W.jsx)("div",{style:{marginBottom:"1%",marginTop:"1%"},children:Object(W.jsx)(q.a.Field,{loading:Re,value:st,onChange:function(e,t){var n=t.value;ot(n)},required:!0,control:Y.a,options:vt,placeholder:D,search:!0})})]}):null:Object(W.jsx)(Ge,{userInput:ze,onChange:mt,placeholder:"Search by license plate..."})}),Object(W.jsx)(U.a.Column,{width:"10",children:Re&&!De?Object(W.jsx)("div",{style:{marginLeft:"50%"},children:Object(W.jsx)(tt.a,{size:"75px",color:"#36D7B7"})}):De?Object(W.jsx)(B.a,{negative:!0,children:De.toString()}):Object(W.jsx)(ve.a,{children:"Your Vehicles"===Ze&&0!==j.length?L?Object(W.jsx)(qe,{contents:M,vehicles:r,parkings:j,getContent:"LogCard"}):je?Object(W.jsx)(qe,{contents:pe,vehicles:r,parkings:j,employees:x,getContent:"UserVehicleReportCard"}):Object(W.jsx)(qe,{contents:r.filter((function(e){return-1!==e.licensePlate.toLowerCase().indexOf(ze.toLowerCase())})),parkAreas:m,parkings:j,updateVehicles:gt,setListLogs:A,setListReports:de,setListedVehicleId:Ne,blacklist:X,getContent:"UserVehicleCard"}):"Book Parking"===Ze?Object(W.jsx)(qe,{contents:N,allLogs:te,selectedCar:nt,vehicles:s,updateVehicles:gt,setCarError:bt,getContent:"ParkAreaCard"}):"Feedback"===Ze?Object(W.jsx)(rt,{userInput:ze,onChange:mt,placeholder:"TEST"}):null})})]})]})})})]})},ct=n(202),it=function(){var e=Object(C.useContext)(Oe).user,t=Object(C.useState)(Me.employee[0]),n=Object(S.a)(t,2),r=n[0],a=n[1],c=Object(C.useState)(""),i=Object(S.a)(c,2),s=i[0],o=i[1],l=Object(C.useState)([]),u=Object(S.a)(l,2),j=u[0],b=u[1],d=Object(C.useState)([]),h=Object(S.a)(d,2),x=h[0],O=h[1],p=Object(C.useState)([]),f=Object(S.a)(p,2),m=f[0],g=f[1],v=Object(C.useState)([]),k=Object(S.a)(v,2),N=k[0],y=k[1],I=Object(C.useState)(!1),P=Object(S.a)(I,2),L=P[0],A=P[1],T=Object(C.useState)([]),F=Object(S.a)(T,2),D=F[0],V=F[1],z=Object(C.useState)(""),H=Object(S.a)(z,2),q=H[0],Y=H[1],$=w.a.createRef(),_=function(e){o(e.target.value)};Object(C.useEffect)((function(){o("")}),[r]);var M=function(){var e=Object(E.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le();case 3:t=e.sent,n=t.data,g(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Y(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(C.useEffect)((function(){(function(){var t=Object(E.a)(R.a.mark((function t(){var n,a,c,i,s,o,l,u,j,d;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(!0),t.prev=1,t.next=4,be();case 4:n=t.sent,a=n.data,O(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),Y(t.t0);case 12:return t.prev=12,t.next=15,ne();case 15:c=t.sent,i=c.data,V(i),t.next=23;break;case 20:t.prev=20,t.t1=t.catch(12),Y(t.t1);case 23:if("Report A Car"!==r){t.next=49;break}return t.prev=24,t.next=27,se();case 27:s=t.sent,(o=s.data).filter((function(t){return Number(t.parkingId)===Number(e.parkingId)})),b(o),t.next=36;break;case 33:t.prev=33,t.t2=t.catch(24),Y(t.t2);case 36:return t.prev=36,t.next=39,le();case 39:l=t.sent,u=l.data,g(u),t.next=47;break;case 44:t.prev=44,t.t3=t.catch(36),Y(t.t3);case 47:t.next=61;break;case 49:if("Entrance Exit Log"!==r){t.next=61;break}return t.prev=50,t.next=53,ce();case 53:j=t.sent,d=j.data,y(d),t.next=61;break;case 58:t.prev=58,t.t4=t.catch(50),Y(t.t4);case 61:A(!1);case 62:case"end":return t.stop()}}),t,null,[[1,9],[12,20],[24,33],[36,44],[50,58]])})));return function(){return t.apply(this,arguments)}})()()}),[r,e.parkingId]);var Z={fullname:e.fullName,phone:"0"+e.phone,registrationDate:new Date(e.startingDate)},G=function(){var t=x.filter((function(t){return-1!==t.licensePlate.toLowerCase().indexOf(s.toLowerCase())&&Number(t.parkingId)===Number(e.parkingId)})).map((function(e){return Number(e.id)}));return j.filter((function(e){return t.includes(Number(e.vehicleId))&&e.full}))},K=function(){var t=x.filter((function(t){return-1!==t.licensePlate.toLowerCase().indexOf(s.toLowerCase())&&Number(t.parkingId)===Number(e.parkingId)})).map((function(e){return Number(e.id)}));return N.filter((function(e){return t.includes(Number(e.vehicleId))}))};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(_e,{menuItems:Me.employee,activeMenu:r,handleHeaderOnClick:function(e,t){var n=t.name;a(n),Y("")}}),Object(W.jsxs)(Je,{children:[Object(W.jsx)(ge.a,{context:$,children:Object(W.jsx)(U.a,{centered:!0,children:L?null:"Report A Car"===r?0===G().length&&""===s?Object(W.jsx)(B.a,{negative:!0,header:"There is car in Parking Spots."}):Object(W.jsx)(Ge,{userInput:s,onChange:_,placeholder:"Search by license plate..."}):"Entrance Exit Log"===r?0===K().length&&""===s?Object(W.jsx)(B.a,{negative:!0,header:"There is no log."}):Object(W.jsx)(Ge,{userInput:s,onChange:_,placeholder:"Search by license plate..."}):null})}),Object(W.jsx)(me.a,{innerRef:$,children:Object(W.jsxs)(U.a,{stackable:!0,children:[Object(W.jsx)(U.a.Column,{width:"13",children:L&&!q?Object(W.jsx)("div",{style:{marginLeft:"50%"},children:Object(W.jsx)(ct.MoonLoader,{size:"75px",color:"#36D7B7"})}):q?Object(W.jsx)(B.a,{negative:!0,children:q.toString()}):Object(W.jsx)(ve.a,{children:"Report A Car"===r?Object(W.jsx)(qe,{contents:G(),vehicles:x,parkings:D,reports:m,updateReports:M,getContent:"EmployeeReportCard"}):"Entrance Exit Log"===r?Object(W.jsx)(qe,{contents:K(),parkings:D,vehicles:x,getContent:"LogCard"}):null})}),Object(W.jsx)(U.a.Column,{width:"3",children:Object(W.jsx)(ge.a,{context:$,children:Object(W.jsx)(Xe,{person:Z})})})]})})]})]})},st=function(){var e=Object(C.useContext)(Oe).user,t=Object(C.useState)(Me.parkingOwner[0]),n=Object(S.a)(t,2),r=n[0],a=n[1],c=Object(C.useState)(""),i=Object(S.a)(c,2),s=i[0],o=i[1],l=Object(C.useState)(!1),u=Object(S.a)(l,2),j=u[0],b=u[1],d=Object(C.useState)(""),h=Object(S.a)(d,2),x=h[0],O=h[1],p=Object(C.useState)(!1),f=Object(S.a)(p,2),m=f[0],g=f[1],v=Object(C.useState)(!1),k=Object(S.a)(v,2),N=k[0],y=k[1],I=Object(C.useState)(!1),P=Object(S.a)(I,2),L=P[0],A=P[1],T=Object(C.useState)([]),F=Object(S.a)(T,2),D=F[0],V=F[1],H=Object(C.useState)([]),Y=Object(S.a)(H,2),$=Y[0],M=Y[1],Z=Object(C.useState)([]),G=Object(S.a)(Z,2),K=G[0],X=G[1],J=Object(C.useState)(0),te=Object(S.a)(J,2),ie=te[0],oe=te[1],ue=Object(C.useState)([]),de=Object(S.a)(ue,2),he=de[0],xe=de[1],pe=Object(C.useState)([]),fe=Object(S.a)(pe,2),ke=fe[0],Ne=fe[1],ye=Object(C.useState)([]),Se=Object(S.a)(ye,2),Ie=Se[0],Pe=Se[1],Le=Object(C.useState)([]),Ae=Object(S.a)(Le,2),Re=Ae[0],Ee=Ae[1],Te=Object(C.useState)([]),Fe=Object(S.a)(Te,2),De=Fe[0],Ue=Fe[1],Ve=Object(C.useState)([]),Be=Object(S.a)(Ve,2),ze=Be[0],He=Be[1],Ye=Object(C.useState)(!1),$e=Object(S.a)(Ye,2),Ze=$e[0],Ke=$e[1],We=Object(C.useState)(!1),et=Object(S.a)(We,2),tt=et[0],nt=et[1],rt=Object(C.useState)(""),at=Object(S.a)(rt,2),it=at[0],st=at[1],ot=Object(C.useState)(""),lt=Object(S.a)(ot,2),ut=lt[0],jt=lt[1],bt=w.a.createRef(),dt=function(e,t){var n=t.name;a(n),st("")},ht={fullname:e.fullName,phone:"0"+e.phone};Object(C.useEffect)((function(){jt(""),function(){var t=Object(E.a)(R.a.mark((function t(){var n,c,i,s,o,l,u,j,b,d,h,x,O,p,f,m,g,v,k,C,w,N,y,S,I,P,L,A,E,T,F,D,U,B,z;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ke(!0),t.prev=1,t.next=4,ne();case 4:n=t.sent,(c=n.data).some((function(t){return Number(t.ownerId)===Number(e.id)}))&&oe(Number(c.find((function(t){return Number(t.ownerId)===Number(e.id)})).id)),X(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),st(t.t0);case 13:if("Create Parking"!==r){t.next=21;break}return t.next=16,ne();case 16:i=t.sent,i.data.some((function(t){return Number(t.ownerId)===Number(e.id)}))&&a(Me.parkingOwner[1]),t.next=210;break;case 21:if("Entrance Exit Log"!==r){t.next=46;break}return t.prev=22,t.next=25,be();case 25:s=t.sent,o=s.data,V(o),t.next=33;break;case 30:t.prev=30,t.t1=t.catch(22),st(t.t1);case 33:return t.prev=33,t.next=36,ce();case 36:l=t.sent,u=l.data,Ue(u),t.next=44;break;case 41:t.prev=41,t.t2=t.catch(33),st(t.t2);case 44:t.next=210;break;case 46:if("Report List"!==r){t.next=101;break}return t.prev=47,t.next=50,le();case 50:j=t.sent,b=j.data,He(b.filter((function(e){return e.active&&Number(e.parkingId)===ie}))),t.next=58;break;case 55:t.prev=55,t.t3=t.catch(47),st(t.t3);case 58:return t.prev=58,t.next=61,ae();case 61:d=t.sent,h=d.data,xe(h),t.next=69;break;case 66:t.prev=66,t.t4=t.catch(58),st(t.t4);case 69:return t.prev=69,t.next=72,be();case 72:x=t.sent,O=x.data,V(O),t.next=80;break;case 77:t.prev=77,t.t5=t.catch(69),st(t.t5);case 80:return t.prev=80,t.next=83,ne();case 83:if(p=t.sent,!(f=p.data).some((function(t){return Number(t.ownerId)===Number(e.id)}))){t.next=93;break}return m=f.find((function(t){return Number(t.ownerId)===Number(e.id)})).id,t.next=89,se();case 89:g=t.sent,Ee(g.data.filter((function(e){return Number(m)===Number(e.parkingId)}))),t.next=94;break;case 93:Ee([]);case 94:t.next=99;break;case 96:t.prev=96,t.t6=t.catch(80),st(t.t6);case 99:t.next=210;break;case 101:if("List Parking Spot"!==r){t.next=134;break}return t.prev=102,t.next=105,ne();case 105:if(v=t.sent,!(k=v.data).some((function(t){return Number(t.ownerId)===Number(e.id)}))){t.next=115;break}return C=k.find((function(t){return Number(t.ownerId)===Number(e.id)})).id,t.next=111,se();case 111:w=t.sent,Ee(w.data.filter((function(e){return Number(C)===Number(e.parkingId)}))),t.next=116;break;case 115:Ee([]);case 116:return t.prev=116,t.next=119,be();case 119:N=t.sent,y=N.data,V(y),t.next=127;break;case 124:t.prev=124,t.t7=t.catch(116),st(t.t7);case 127:t.next=132;break;case 129:t.prev=129,t.t8=t.catch(102),st(t.t8);case 132:t.next=210;break;case 134:if("Feedbacks"!==r){t.next=148;break}return t.prev=135,t.next=138,ee.get("/feedback",Q);case 138:S=t.sent,I=S.data,M(I),t.next=146;break;case 143:t.prev=143,t.t9=t.catch(135),st(t.t9);case 146:t.next=210;break;case 148:if("Employee Requests"!==r){t.next=162;break}return t.prev=149,t.next=152,ae();case 152:P=t.sent,L=P.data,xe(L),t.next=160;break;case 157:t.prev=157,t.t10=t.catch(149),st(t.t10);case 160:t.next=210;break;case 162:if("List Vehicles"!==r){t.next=187;break}return t.prev=163,t.next=166,be();case 166:A=t.sent,E=A.data,V(E),t.next=174;break;case 171:t.prev=171,t.t11=t.catch(163),st(t.t11);case 174:return t.prev=174,t.next=177,je();case 177:T=t.sent,F=T.data,Pe(F),t.next=185;break;case 182:t.prev=182,t.t12=t.catch(174),st(t.t12);case 185:t.next=210;break;case 187:if("Blacklist"!==r){t.next=210;break}return t.prev=188,t.next=191,be();case 191:D=t.sent,U=D.data,V(U),t.next=199;break;case 196:t.prev=196,t.t13=t.catch(188),st(t.t13);case 199:return t.prev=199,t.next=202,re();case 202:B=t.sent,z=B.data,Ne(z),t.next=210;break;case 207:t.prev=207,t.t14=t.catch(199),st(t.t14);case 210:Ke(!1);case 211:case"end":return t.stop()}}),t,null,[[1,10],[22,30],[33,41],[47,55],[58,66],[69,77],[80,96],[102,129],[116,124],[135,143],[149,157],[163,171],[174,182],[188,196],[199,207]])})));return function(){return t.apply(this,arguments)}}()()}),[r,e.id,ie]);var xt=function(){var e=Object(E.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke(!0),e.prev=1,e.next=4,ae();case 4:t=e.sent,n=t.data,xe(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),st(e.t0);case 12:Ke(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(E.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke(!0),e.prev=1,e.next=4,le();case 4:t=e.sent,n=t.data,He(n.filter((function(e){return e.active&&Number(e.parkingId)===ie}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),st(e.t0);case 12:Ke(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=D.filter((function(e){return-1!==e.licensePlate.toLowerCase().indexOf(ut.toLowerCase())})).map((function(e){return Number(e.id)}));return ze.filter((function(t){return e.includes(Number(t.vehicleId))}))},ft=function(){var e=Object(E.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke(!0),e.prev=1,e.next=4,re();case 4:t=e.sent,n=t.data,Ne(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),st(e.t0);case 12:Ke(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),mt=function(){var t=Object(E.a)(R.a.mark((function t(){var n,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ke(!0),t.prev=1,t.next=4,ne();case 4:n=t.sent,r=n.data,X(r),r.some((function(t){return Number(t.ownerId)===Number(e.id)}))&&oe(Number(r.find((function(t){return Number(t.ownerId)===Number(e.id)})).id)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),st(t.t0);case 13:Ke(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),gt=function(e){jt(e.target.value)},vt=function(){var t=Object(E.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(nt(!0),!(s.trim().replace(/\s\s+/g," ").length<5)){t.next=5;break}b(!0),t.next=25;break;case 5:if(!(Number(x)<1)){t.next=9;break}g(!0),t.next=25;break;case 9:if(!K.some((function(e){return e.name===s.toUpperCase()}))){t.next=13;break}y(!0),t.next=25;break;case 13:return o(""),O(""),t.prev=15,t.next=18,n={ownerId:Number(e.id),name:s.trim().replace(/\s\s+/g," ").toUpperCase(),parkAreaCount:Number(x)},ee.post("/parking",n,Q);case 18:A(!0),setTimeout((function(){mt(),a(Me.parkingOwner[1]),A(!1)}),1e3),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(15),st(t.t0);case 25:nt(!1);case 26:case"end":return t.stop()}var n}),t,null,[[15,22]])})));return function(){return t.apply(this,arguments)}}(),kt=function(){var e=D.filter((function(e){return Number(e.parkingId)===Number(ie)&&-1!==e.licensePlate.toLowerCase().indexOf(ut.toLowerCase())})).map((function(e){return Number(e.id)}));return De.filter((function(t){return e.includes(Number(t.vehicleId))}))},Ct=function(){return he.filter((function(e){return!e.accepted&&Number(e.parkingId)===Number(ie)&&-1!==e.fullName.toLowerCase().indexOf(ut.toLowerCase())}))},wt=function(){return D.filter((function(e){return Number(e.parkingId)===Number(ie)&&-1!==e.licensePlate.toLowerCase().indexOf(ut.toLowerCase())}))};return Object(W.jsxs)(W.Fragment,{children:[K.some((function(t){return Number(t.ownerId)===Number(e.id)}))?Object(W.jsx)(_e,{menuItems:Me.parkingOwner.slice(0,7),activeMenu:r,handleHeaderOnClick:dt}):Object(W.jsx)(_e,{menuItems:Me.parkingOwner,activeMenu:r,handleHeaderOnClick:dt}),Object(W.jsxs)(Je,{children:[Object(W.jsx)(ge.a,{context:bt,children:Object(W.jsx)(U.a,{centered:!0,children:Ze?null:"Employee Requests"===r?0===Ct().length&&""===ut?Object(W.jsx)(B.a,{positive:!0,header:"There is no new requests"}):Object(W.jsx)(Ge,{userInput:ut,onChange:gt,placeholder:"Search by name..."}):"Entrance Exit Log"===r?0===kt().length&&""===ut?Object(W.jsx)(B.a,{negative:!0,header:"There is no content"}):Object(W.jsx)(Ge,{userInput:ut,onChange:gt,placeholder:"Search by license plate..."}):"Report List"===r?0===pt().length&&""===ut?Object(W.jsx)(B.a,{negative:!0,header:"There is no content"}):Object(W.jsx)(Ge,{userInput:ut,onChange:gt,placeholder:"Search by license plate..."}):"List Vehicles"===r?0===wt().length&&""===ut?Object(W.jsx)(B.a,{positive:!0,header:"There is no content"}):Object(W.jsx)(Ge,{userInput:ut,onChange:gt,placeholder:"Search by license plate..."}):null})}),Object(W.jsx)(me.a,{innerRef:bt,children:Object(W.jsxs)(U.a,{stackable:!0,children:[Object(W.jsx)(U.a.Column,{width:"3",children:Object(W.jsx)(ge.a,{context:bt,children:Ze?null:Object(W.jsx)(Xe,{person:ht})})}),Object(W.jsx)(U.a.Column,{width:"13",children:Ze&&!it?Object(W.jsx)("div",{style:{marginLeft:"50%"},children:Object(W.jsx)(ct.MoonLoader,{size:"75px",color:"#36D7B7"})}):it?Object(W.jsx)(B.a,{negative:!0,children:it.toString()}):Object(W.jsx)(ve.a,{children:"Create Parking"===r?Object(W.jsxs)(U.a,{stackable:!0,children:[Object(W.jsx)(U.a.Column,{width:"5",floated:"left"}),Object(W.jsx)(U.a.Column,{floated:"left",width:"5",children:Object(W.jsxs)(Ce.a,{children:[Object(W.jsxs)(Ce.a.Content,{children:[Object(W.jsx)(Ce.a.Header,{textAlign:"center",children:Object(W.jsx)("strong",{children:"Create your own parking"})}),Object(W.jsx)(we.a,{}),Object(W.jsx)(Ce.a.Description,{children:Object(W.jsxs)(q.a,{children:[Object(W.jsx)(q.a.Input,{required:!0,value:s,label:"Parking Name",placeholder:"Parking Name (5-24)",error:j,onChange:function(e,t){var n=t.value;(/^[a-zA-Z ]+$/.test(n)||""===n)&&n.length<25&&(o(n),N&&y(!1),j&&b(!1))}}),Object(W.jsx)(q.a.Input,{required:!0,value:x,label:"Parking Spot Count",placeholder:"max 100",error:m,onChange:function(e,t){var n=t.value;(/^[0-9]+$/.test(n)||""===n)&&Number(n)<101&&(O(n),N&&y(!1),m&&g(!1))}})]})})]}),L?Object(W.jsx)(B.a,{positive:!0,header:"Parking created successfully."}):N?Object(W.jsx)(B.a,{negative:!0,header:"This parking name already exist."}):null,Object(W.jsx)(Ce.a.Content,{extra:!0,textAlign:"center",children:Object(W.jsxs)(z.a,{fluid:!0,animated:"fade",positive:!0,onClick:vt,loading:tt,children:[Object(W.jsx)(z.a.Content,{visible:!0,children:"Create"}),Object(W.jsx)(z.a.Content,{hidden:!0,children:Object(W.jsx)(_.a,{name:"add"})})]})})]})}),Object(W.jsx)(U.a.Column,{width:"5",floated:"right"})]}):"Employee Requests"===r?Object(W.jsx)(Qe,{style:{width:"100%"},children:Object(W.jsx)(qe,{contents:Ct(),updateEmployees:xt,getContent:"EmployeeRequestCard"})}):"Entrance Exit Log"===r?Object(W.jsx)(Qe,{style:{width:"83%"},children:Object(W.jsx)(qe,{contents:kt(),parkings:K,vehicles:D,getContent:"LogCard"})}):"Report List"===r?Object(W.jsx)(qe,{contents:pt(),vehicles:D,parkings:K,employees:he,parkAreas:Re,updateReports:Ot,getContent:"ParkingOwnerReportCard"}):"Blacklist"===r?Object(W.jsx)(qe,{contents:ke.filter((function(e){return Number(e.parkingId)===Number(ie)})),vehicles:D,updateBlacklist:ft,getContent:"BlacklistCard"}):"List Parking Spot"===r?Object(W.jsx)(Qe,{style:{width:"83%"},children:Object(W.jsx)(qe,{contents:Re,vehicles:D,getContent:"ParkAreaCard"})}):"List Vehicles"===r&&0!==Ie.length&&0!==wt().length&&0!==K.length?Object(W.jsx)(Qe,{style:{width:"83%"},children:Object(W.jsx)(qe,{contents:wt(),parkings:K,users:Ie,getContent:"ParkingOwnerVehicleCard"})}):"Feedbacks"===r?Object(W.jsx)(Qe,{style:{width:"83%"},children:Object(W.jsx)(qe,{contents:$.filter((function(e){return Number(e.id)&&e.feedback.toLowerCase()})),users:Ie,feedbacks:$,getContent:"ParkingOwnerFeedbackCard"})}):null})})]})})]})]})},ot=[{path:"/login",exact:!0,component:function(){return Object(W.jsx)(fe,{})},isPrivate:!1,authenticated:""},{path:"/register",exact:!0,component:function(){return Object(W.jsx)(xe,{})},isPrivate:!1,authenticated:""},{path:"/user",exact:!0,component:function(){return Object(W.jsx)(at,{})},isPrivate:!0,authenticated:"User"},{path:"/employee",exact:!0,component:function(){return Object(W.jsx)(it,{})},isPrivate:!0,authenticated:"Employee"},{path:"/parkingowner",exact:!0,component:function(){return Object(W.jsx)(st,{})},isPrivate:!0,authenticated:"ParkingOwner"}],lt=n(325),ut=["children","isAuthenticated"],jt=n(111).Route,bt=function(e){var t=e.children,n=e.isAuthenticated,r=Object(lt.a)(e,ut),a=Object(C.useContext)(Oe).authenticated;return Object(W.jsx)(jt,Object(L.a)(Object(L.a)({},r),{},{render:function(e){e.location;return n===a?t:null}}))},dt=F.a.div(k||(k=Object(T.a)(["\n    display:inline-block;\n    background-color: rgb(232,232,232);\n    background-attachment: fixed;\n    background-repeat:no-repeat;\n    background-size:cover;\n    width:100%;\n    min-height:100vh;\n"]))),ht=function(){var e=Object(C.useState)(""),t=Object(S.a)(e,2),n=t[0],r=t[1],a=Object(C.useState)({}),c=Object(S.a)(a,2),i=c[0],s=c[1];return(("/user"===window.location.pathname||"/employee"===window.location.pathname||"/parkingowner"===window.location.pathname)&&""===n||!ot.some((function(e){return e.path===window.location.pathname}))&&"/register"!==window.location.pathname)&&(window.location.pathname="/login"),Object(W.jsx)(dt,{children:Object(W.jsx)(I.BrowserRouter,{children:Object(W.jsx)(P.g,{children:Object(W.jsx)(Oe.Provider,{value:{user:i,setUser:s,authenticated:n,setAuthenticated:r},children:ot.map((function(e,t){return e.isPrivate?Object(W.jsx)(bt,{exact:e.exact,path:e.path,isAuthenticated:e.authenticated,authenticated:n,children:e.component()},t):Object(W.jsx)(P.d,{exact:e.exact,path:e.path,children:e.component()},t)}))})})})})};n(398);var xt=function(){return Object(W.jsx)(ht,{})},Ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,634)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};y.a.render(Object(W.jsx)(w.a.StrictMode,{children:Object(W.jsx)(xt,{})}),document.getElementById("root")),Ot()}},[[606,1,2]]]);
//# sourceMappingURL=main.d6bc18d9.chunk.js.map